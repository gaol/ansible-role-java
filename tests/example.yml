---
- hosts: all
  become: yes
  become_user: root
  vars:
    yum_repo_urls:
      - https://pkg.jenkins.io/redhat/jenkins.repo

    yum_repo_key_urls:
      - https://pkg.jenkins.io/redhat/jenkins.io.key

    pre_packages:
      - epel-release

    pre_services: []

    scripts_after_pre_services:
      - dummy_1.sh

    to_be_installed_packages:
      - java-1.8.0-openjdk-devel
      - maven
      - docker

    configs_after_install:
      - src: "{{ playbook_dir }}/local"
        dest: "/tmp/gaol.package.test"

    started_services:
      - docker

    scripts_after_services_started:
      - dummy_2.sh

  roles:
    - gaol.package
